[
  [
    "value fields",
    {
      "fieldsOnly": true,
      "data": "samples.\"purchase-order\"",
      "expression": "values(address)[0].$name",
      "expected": "street"
    }
  ],
  [
    "map fields",
    {
      "fieldsOnly": true,
      "data": "samples.\"purchase-order\"",
      "expression": "map(&price, items)[*].$name",
      "expected": ["price", "price"]
    }
  ],
  [
    "contains Field",
    {
      "data": "samples.\"purchase-order\"",
      "expression": "contains([2,4,6], items[0].quantity)",
      "expected": true
    }
  ],
  [
    "reverse",
    {
      "data": "samples.\"purchase-order\".address",
      "expression": "reverse(street)",
      "expected": "teertS kaO 321"
    }
  ],
  [
    "get an address",
    {
      "data": "samples.\"purchase-order\"",
      "expression": "address",
      "expected": {
        "street": "123 Oak Street",
        "city": "San Jose",
        "state": "California",
        "country": "USA"
      }
    }
  ],
  [
    "`true`",
    {
      "data": "`{}`",
      "expression": "`true`",
      "expected": true
    }
  ],
  [
    "if() first condition",
    {
      "data": "samples.\"purchase-order\"",
      "expression": "if(items[0].price > 1, 'first', 'second')",
      "expected": "first"
    }
  ],
  [
    "if() second condition",
    {
      "data": "samples.\"purchase-order\"",
      "expression": "if(sum(items[*].price) == 0, 'first', 'second')",
      "expected": "second"
    }
  ],
  [
    "sum(jmespath)",
    {
      "data": "samples.\"purchase-order\"",
      "expression": "sum(items[*].subtotal)",
      "expected": 10.48
    }
  ],
  [
    "sum(array)",
    {
      "data": "`{}`",
      "expression": "sum(`[2,4,6]`)",
      "expected": 12
    }
  ],
  [
    "sum(array)",
    {
      "data": "`{}`",
      "expression": "sum([2,'4',6,`true`])",
      "expected": 13
    }
  ],
  [
    "math",
    {
      "data": "`{}`",
      "expression": "(3 + 2) * 10 / 2 - 5",
      "expected": 20
    }
  ],
  [
    "math",
    {
      "data": "`{}`",
      "expression": "2 * '2b' + `null`",
      "expected": 4
    }
  ],
  [
    "<",
    {
      "data": "`{}`",
      "expression": "1 < 2",
      "expected": true
    }
  ],
  [
    ">",
    {
      "data": "`{}`",
      "expression": "1 > 2",
      "expected": false
    }
  ],
  [
    ">= equal",
    {
      "data": "`{}`",
      "expression": "12 >= 12",
      "expected": true
    }
  ],
  [
    ">= greater",
    {
      "data": "`{}`",
      "expression": "12 >= 10",
      "expected": true
    }
  ],
  [
    "<= equal",
    {
      "data": "`{}`",
      "expression": "10 <= 10",
      "expected": true
    }
  ],
  [
    "<= less",
    {
      "data": "`{}`",
      "expression": "12 <= 10",
      "expected": false
    }
  ],
  [
    "== true",
    {
      "data": "`{}`",
      "expression": "10 == 10",
      "expected": true
    }
  ],
  [
    "== false",
    {
      "data": "`{}`",
      "expression": "10 == 11",
      "expected": false
    }
  ],
  [
    "== false",
    {
      "data": "`{}`",
      "expression": "10 == 11",
      "expected": false
    }
  ],
  [
    "!= true",
    {
      "data": "`{}`",
      "expression": "10 != 11",
      "expected": true
    }
  ],
  [
    "!= false",
    {
      "data": "`{}`",
      "expression": "10 != 10",
      "expected": false
    }
  ],
  [
    "4 + '8'",
    {
      "data": "`{}`",
      "expression": "4 + '8'",
      "expected": 12
    }
  ],
  [
    "'4' + '8'",
    {
      "data": "`{}`",
      "expression": "'4' + '8'",
      "expected": 12
    }
  ],
  [
    "[1,2,3] * 2",
    {
      "data": "`{}`",
      "expression": "[1,2,3] * 2",
      "expected": [2,4,6]
    }
  ],
  [
    "[1,'2',3] * [2,4,6,8]",
    {
      "data": "`{}`",
      "expression": "[1,2,3] * [2,4,6,8]",
      "expected": [2,8,18,0]
    }
  ],
  [
    "[1,'2',3] * [2,4,6,8]",
    {
      "data": "`{}`",
      "expression": "[1,2,3] * [2,4,6,8]",
      "expected": [2,8,18,0]
    }
  ],
  [
    "[1,2,3] * [2,[3,4],6,8,10]",
    {
      "data": "`{}`",
      "expression": "[1,2,3] * [2,[3,4],6,8,10]",
      "expected": [2,[6,8],18,0,0]
    }
  ],
  [
    "[1,'a','b'] & ['b',1,2]",
    {
      "data": "`{}`",
      "expression": "[1,'a','b'] & ['b',1,2]",
      "expected": ["1b", "a1", "b2"]
    }
  ],
  [
    "12 & 34 & 'b' & true()",
    {
      "data": "`{}`",
      "expression": "12 & 34 & 'b' & true()",
      "expected": "1234btrue"
    }
  ],
  [
    "upperFirst(a)",
    {
      "data": "`{\"a\": \"fred\"}`",
      "expression": "upperFirst(a)",
      "expected": "Fred"
    }
  ]
]